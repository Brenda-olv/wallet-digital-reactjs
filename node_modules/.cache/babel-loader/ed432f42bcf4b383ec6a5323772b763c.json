{"ast":null,"code":"var _jsxFileName = \"/Users/marilisebarbosa/.bitnami/stackman/machines/xampp/volumes/root/htdocs/wallet-digital/src/pages/login/index.js\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { setUser } from '../../actions';\n\nconst LoginScreen = ({\n  history,\n  setUser\n}) => {\n  const [fields, setFields] = useState({\n    email: '',\n    pass: ''\n  });\n\n  const handleFormSubmit = event => {\n    event.stopPropagation();\n    event.preventDefault(); // alert(`Email: ${fields.email} - Senha: ${fields.pass}`);\n\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: fields.email,\n        pass: fields.pass\n      })\n    };\n    fetch(\"http://192.168.64.2/wallet-digital/_responses/login.php\").then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Something went wrong');\n      }\n    }).then(result => {\n      console.log(result);\n      setUser(result.user);\n      history.push('/dashboard');\n    }).catch(error => {\n      alert('Credenciais invalidas');\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \" E - mail \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    value: fields.email,\n    onChange: event => {\n      setFields({ ...fields,\n        email: event.target.value\n      });\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 58\n    }\n  })), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"pass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, \" Senha \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"pass\",\n    value: fields.pass,\n    onChange: event => {\n      setFields({ ...fields,\n        pass: event.target.value\n      });\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 54\n    }\n  })), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \" Entrar \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \" N\\xE3o \\xE9 cadastrado ? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 35\n    }\n  }, \" Clique aqui \"))), \" \"), \" \");\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  setUser\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(withRouter(LoginScreen));","map":{"version":3,"sources":["/Users/marilisebarbosa/.bitnami/stackman/machines/xampp/volumes/root/htdocs/wallet-digital/src/pages/login/index.js"],"names":["React","useState","Link","withRouter","connect","bindActionCreators","setUser","LoginScreen","history","fields","setFields","email","pass","handleFormSubmit","event","stopPropagation","preventDefault","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","ok","json","Error","result","console","log","user","push","catch","error","alert","target","value","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { setUser } from '../../actions';\n\nconst LoginScreen = ({ history, setUser }) => {\n    const [fields, setFields] = useState({ email: '', pass: '' });\n\n    const handleFormSubmit = event => {\n        event.stopPropagation();\n        event.preventDefault();\n\n        // alert(`Email: ${fields.email} - Senha: ${fields.pass}`);\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ email: fields.email, pass: fields.pass })\n        };\n        fetch(\"http://192.168.64.2/wallet-digital/_responses/login.php\")\n            .then(response => {\n                if (response.ok) {\n                    return response.json();\n                } else {\n                    throw new Error('Something went wrong');\n                }\n            })\n            .then(result => {\n                console.log(result)\n                setUser(result.user)\n                history.push('/dashboard')\n            })\n            .catch(error => {\n                alert('Credenciais invalidas');\n            })\n    }\n\n    return ( <\n        div className = { \"section-login\" } >\n        <\n        form onSubmit = { handleFormSubmit } >\n        <\n        div className = { \"form-row\" } >\n        <\n        label htmlFor = { \"email\" } > E - mail < /label> <\n        input type = { \"email\" }\n        id = { \"email\" }\n        value = { fields.email }\n        onChange = { event => { setFields({...fields, email: event.target.value }); } }\n        required / >\n        <\n        /div> <\n        div className = { \"form-row\" } >\n        <\n        label htmlFor = { \"pass\" } > Senha < /label> <\n        input type = { \"password\" }\n        id = { \"pass\" }\n        value = { fields.pass }\n        onChange = { event => { setFields({...fields, pass: event.target.value }) } }\n        required / >\n        <\n        /div> <\n        div className = { \"form-row\" } >\n        <\n        button type = { \"submit\" } > Entrar < /button> < /\n        div > <\n        div className = { \"form-footer\" } >\n        <\n        span > Não é cadastrado ? < Link to = \"/register\" > Clique aqui < /Link></span >\n        <\n        /div> < /\n        form > <\n        /div>\n    );\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ setUser }, dispatch);\n\nexport default connect(null, mapDispatchToProps)(withRouter(LoginScreen));"]},"metadata":{},"sourceType":"module"}