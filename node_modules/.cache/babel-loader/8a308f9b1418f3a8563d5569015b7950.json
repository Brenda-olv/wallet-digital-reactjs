{"ast":null,"code":"var _jsxFileName = \"/Users/marilisebarbosa/.bitnami/stackman/machines/xampp/volumes/root/htdocs/wallet-digital/src/pages/login/index.js\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { setUser } from '../../actions';\n\nconst LoginScreen = ({\n  history,\n  setUser\n}) => {\n  const [fields, setFields] = useState({\n    email: '',\n    pass: ''\n  });\n\n  const handleFormSubmit = event => {\n    event.stopPropagation();\n    event.preventDefault(); // alert(`Email: ${fields.email} - Senha: ${fields.pass}`);\n\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: fields.email,\n        pass: fields.pass\n      })\n    };\n    fetch(\"http://localhost/aem-api/public/ping\", requestOptions).then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Something went wrong');\n      }\n    }).then(result => {\n      console.log(result);\n      setUser(result.user);\n      history.push('/dashboard');\n    }).catch(error => {\n      alert('Credenciais invalidas');\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, \"E-mail\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    value: fields.email,\n    onChange: event => {\n      setFields({ ...fields,\n        email: event.target.value\n      });\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"pass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, \"Senha\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"pass\",\n    value: fields.pass,\n    onChange: event => {\n      setFields({ ...fields,\n        pass: event.target.value\n      });\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, \"Entrar\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, \"N\\xE3o \\xE9 cadastrado? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 45\n    }\n  }, \"Clique aqui\")))));\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  setUser\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(withRouter(LoginScreen));","map":{"version":3,"sources":["/Users/marilisebarbosa/.bitnami/stackman/machines/xampp/volumes/root/htdocs/wallet-digital/src/pages/login/index.js"],"names":["React","useState","Link","withRouter","connect","bindActionCreators","setUser","LoginScreen","history","fields","setFields","email","pass","handleFormSubmit","event","stopPropagation","preventDefault","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","ok","json","Error","result","console","log","user","push","catch","error","alert","target","value","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { setUser } from '../../actions';\n\nconst LoginScreen = ({history, setUser}) => {\n    const [fields, setFields] = useState({email: '', pass: ''});\n\n    const handleFormSubmit = event => {\n        event.stopPropagation();\n        event.preventDefault();\n\n        // alert(`Email: ${fields.email} - Senha: ${fields.pass}`);\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({email: fields.email, pass: fields.pass})\n        };\n        fetch(\"http://localhost/aem-api/public/ping\", requestOptions)\n            .then(response => {\n                if (response.ok) {\n                    return response.json();\n                } else {\n                    throw new Error('Something went wrong');\n                }\n            })\n            .then(result => {\n                console.log(result)\n                setUser(result.user)\n                history.push('/dashboard')\n            })\n            .catch(error => {\n                alert('Credenciais invalidas');\n            })\n    }\n\n    return (\n        <div className={\"section-login\"}>\n            <form onSubmit={handleFormSubmit}>\n                <div className={\"form-row\"}>\n                    <label htmlFor={\"email\"}>E-mail</label>\n                    <input type={\"email\"} id={\"email\"} value={fields.email} onChange={event => { setFields({...fields, email: event.target.value});  }} required />\n                </div>\n                <div className={\"form-row\"}>\n                    <label htmlFor={\"pass\"}>Senha</label>\n                    <input type={\"password\"} id={\"pass\"} value={fields.pass} onChange={event => { setFields({...fields, pass: event.target.value}) }} required />\n                </div>\n                <div className={\"form-row\"}>\n                    <button type={\"submit\"}>Entrar</button>\n                </div>\n                <div className={\"form-footer\"}>\n                    <span>Não é cadastrado? <Link to=\"/register\">Clique aqui</Link></span> \n                </div>\n            </form>\n        </div>\n    );\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ setUser }, dispatch);\n\nexport default connect(null, mapDispatchToProps) (withRouter(LoginScreen));"]},"metadata":{},"sourceType":"module"}